language: java
jdk:
- openjdk8
branches:
  except:
  - "/master-v0\\.1.*/"
install: true
before_script:
- chmod +x ./travis.sh
script:
- "./travis.sh"
before_deploy:
- git config --global user.email "builds@travis-ci.com"
- git config --global user.name "Travis CI"
- export GIT_TAG=$TRAVIS_BRANCH-v0.1.$TRAVIS_BUILD_NUMBER
- git tag $GIT_TAG -a -m "Generated tag from TravisCI for build $TRAVIS_BUILD_NUMBER"
- git push https://$GITHUB_TOKEN@github.com/hemantsonu20/jwt-cracker --tags
deploy:
  provider: releases
  api_key: "$GITHUB_TOKEN"
  file: target/jwt-cracker-0.0.1-SNAPSHOT.jar
  skip_cleanup: true
  on:
    tags: false
    branch: master
after_deploy:
- git config --global user.email "builds@travis-ci.com"
- git config --global user.name "Travis CI"
- git checkout $TRAVIS_BRANCH
- git add docs/apidocs/* && git status
- git commit -m "[skip ci] adding javadocs travis build:$TRAVIS_BUILD_NUMBER"
- git push https://$GITHUB_TOKEN@github.com/hemantsonu20/jwt-cracker $TRAVIS_BRANCH
addons:
  sonarcloud:
    organization: hemantsonu20-github
    token:
      secure: "$SONAR_TOKEN"
cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
notifications:
  email:
    recipients:
    - hemantsonu20@gmail.com
    on_success: change
    on_failure: always
env:
  global:
  - secure: F6znwewLnWAMP4OWZvCR8LS8XCYkyhexKZWzvG25Cv28CHJId7I6dGNR9xXb9aOZJuSjCzaUG/LIHtncNnlURddnbh2oCkg14JPjTOVYJNZJzRQE8cm2EfCwSvE6dnjvq4d9yXsNMxxuoXd0lw6ualeHHpzXnRt0kbvuC0WbLlweo5Ba6GDIdtmG72VYfFXI5UyRTRAP6/mgif4HYlY3Zp24UoRHGjBC9HBny3ErtDw1LTfu5FVtVbza7gVgDkZMh6f8MJIqdcd4qtQjetqfFLpJV+T74p9KIND9HI67qwhYTPVso1MOmpIiOONntxYgfLJqHF1XgVuMHsnquR9bgz1dSc5L8ZBC2A+Z1aqf+pk02e1Sf3TUFrLy4Y51NdZGPD/R+HuVSFxuGhjIXIfSPxboVC5eer2DVaaM47mIUkCmpqHsl9P5xb7lg4p2bd80ho/fktD1Qxtq/VsrYOAu5JOTZH+9duawp5SNhXO2XUipyOBxxt2WbMglmUYktIE/t8OtqfxMBalvgp5/Swz7tBtFRtu4wkVj5aAGsrZYwbkQg1+Hi+j1MHfwkTgwkomHvbvIKzxMH1RgyhcdG7b6OPG12t7yc0smwzgfgh2Yjiru3X0lvgK02SxLilolX+xcfgT7OaXFxvmasr3rv64m7ckHqLLM1HJHW9gf6tm5K/Y=
  - secure: hHbqLgJvIdWSFKgegGbSO0+mE7m2oaOr9JENbV4vqqGSJaHK8fNJMO7149DYF0gXwpVd0jd39XjfOxv7e4q3lvBMnq4k4hbKqbEynSul/r+JHck5Wu1p3KIu57pGIA84M1zrOQS0FWpwcwLe3ZpDF3lkt0MlfY7PbDYMv6GlDTSscj3HLnhahmv2KlLi5w7wU2vw3A4lZ4g/ixxfVQFXLR5KlxuiJZqkXYCvZTr4dAATWZj6fuyt9to7KrZH8GcRi47uxn0cFu0rVPHqW6TTwNxsh6ZQbOknkie8U0CAolOLmPVr9d+Jm+ziyC2tLwJv4pUdoHtKtvTK56zBu6NWRGhvhkXz5c2vXBGQGjcB8drBZj3I00FVRaFcYEgp//iy5JPfk2mwMbxFmGWiv/GF+b0JWfGtitEv/xJOo7YtOe4KJjVzXpD+KHLJvpcekLJzTFOHtdzUPBxASG8tGaLNmLE7MhYgfgBEzG3vOCzonuKA5E2DqEk3qoXuipUfJ5/tiezCYdkA40LgmgVqqwpT47Kbt6NDixss1ftgWgtceDZ6GKQsJvPCcbSCydpsDo17y2F+y+kjhNoqbdG+cPlWQxHln7DPRFturfmwoIem8DOI6iIkan6zLVFImlJS59W1ccE/VNrzRjgMlZKlfOeyMUWTGbzqBliKlO+JL9HK9Kc=

